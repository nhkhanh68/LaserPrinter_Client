<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en" ng-app="myApp" class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title ng-if="title == undefined">Đăng nhập</title>
    <title ng-if="title != undefined">{{title}}</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="bower_components/html5-boilerplate/dist/css/normalize.css">
    <link rel="stylesheet" href="bower_components/html5-boilerplate/dist/css/main.css">
    <link href="bower_components/gentelella/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="bower_components/gentelella/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="bower_components/gentelella/vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- Custom Theme Style -->
    <link href="bower_components/gentelella/build/css/custom.min.css" rel="stylesheet">
    <script src="bower_components/html5-boilerplate/dist/js/vendor/modernizr-2.8.3.min.js"></script>
    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/angular-route/angular-route.min.js"></script>
    <script src="bower_components/angular-ui-router/release/angular-ui-router.min.js"></script>
    <script src="app.js"></script>
    <script src="main/main.ctrl.js"></script>
    <script src="main/service.js"></script>
    <script type="text/javascript">
    window.onscroll = function() { scrollFunction() };

    function scrollFunction() {
        if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
            document.getElementById("myBtn").style.display = "block";
        } else {
            document.getElementById("myBtn").style.display = "none";
        }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
        document.body.scrollTop = 0; // For Chrome, Safari and Opera 
        document.documentElement.scrollTop = 0; // For IE and Firefox
    }
    </script>
    <style>
    .cursor {
        cursor: pointer;
    }

    .muon {
        background-color: #f0ad4e;
    }

    #myBtn {
        display: none;
        /* Hidden by default */
        position: fixed;
        /* Fixed/sticky position */
        bottom: 20px;
        /* Place the button at the bottom of the page */
        right: 30px;
        /* Place the button 30px from the right */
        z-index: 99;
        /* Make sure it does not overlap */
        border: none;
        /* Remove borders */
        outline: none;
        /* Remove outline */
        background-color: #73879C;
        /* Set a background color */
        color: white;
        /* Text color */
        cursor: pointer;
        /* Add a mouse pointer on hover */
        padding: 15px;
        /* Some padding */
        border-radius: 10px;
        /* Rounded corners */
    }

    #myBtn:hover {
        background-color: #555;
        /* Add a dark-grey background on hover */
    }
    </style>
</head>
<div ng-view ng-if="loggedIn != true"></div>

<body class="nav-sm" ng-controller="mainCtrl" ng-cloak>
    <div class="container body" ng-show="loggedIn">
        <div class="main_container">
            <div class="col-md-3 left_col">
                <div class="left_col scroll-view">
                    <div class="navbar nav_title" style="border: 0;">
                        <a class="site_title"><span>Quản Lý Thư viện</span></a>
                    </div>
                    <div class="clearfix"></div>
                    <br />
                    <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
                        <div class="menu_section">
                            <ul class="nav side-menu">
                                <!-- student -->
                                <li ng-class="{active : sach == 'them'}" ng-click="chonsach('them')" class="cursor" ng-if="role == 'client-student' || role == 'admin-st'"><a><i class="fa fa-book"></i> Thêm </a>
                                </li>
                                <li ng-class="{active : sach == 'themsach'}" ng-click="chonsach('themsach')" class="cursor" ng-if="role == 'client-student' || role == 'admin-st'"><a><i class="fa fa-book"></i> Mượn sách </a>
                                </li>
                                <li ng-class="{active : sach == 'tatca'}" ng-click="chonsach('tatca')" class="cursor" ng-if="role == 'client-student' || role == 'admin-st'"><a><i class="fa fa-book"></i> Tất cả </a>
                                </li>
                                <!-- patient -->
                                <li ng-class="{active : sach == 'them'}" ng-click="chonbv('them'); collapse('', false)" class="cursor" ng-if="role == 'client-patient' || role == 'admin-pa'"><a><i class="fa fa-book"></i> Thêm </a>
                                </li>
                                <li ng-click="chonbv('themba'); collapse('', true)" class="cursor" ng-if="role == 'client-patient' || role == 'admin-pa'"><a><i class="fa fa-book"></i> Thêm phiếu khám </a>
                                </li>
                                <li ng-class="{active : sach == 'tatca'}" ng-click="chonbv('tatca'); collapse('', false)" class="cursor" ng-if="role == 'client-patient' || role == 'admin-pa'"><a><i class="fa fa-book"></i> Tất cả phiếu khám</a>
                                </li>
                                <li ng-class="{active : sach == 'tatca'}" ng-click="chonbv('tatcabenhnhan'); collapse('', false)" class="cursor" ng-if="role == 'client-patient' || role == 'admin-pa'"><a><i class="fa fa-book"></i> Tất cả bệnh nhân </a>
                                </li>
                                <!-- guixe -->
                                <li ng-class="{active : sach == 'tatca'}" ng-click="chonguixe('quanly')" class="cursor" ng-if="role == 'guixe'"><a><i class="fa fa-book"></i> Thêm </a>
                                </li>
                                <li ng-class="{active : sach == 'tatca'}" ng-click="chonguixe('checkin'); showX_panel()" class="cursor" ng-if="role == 'guixe'"><a><i class="fa fa-book"></i> Ra vào </a>
                                </li>
                                <li ng-class="{active : sach == 'tatca'}" ng-click="chonguixe('tatca')" class="cursor" ng-if="role == 'guixe'"><a><i class="fa fa-book"></i> Quản lý </a>
                                </li>
                                <!-- nhanvien -->
                                <li ng-class="{active : sach == 'tatca'}" ng-click="chonnhanvien('quanly')" class="cursor" ng-if="role == 'nhanvien'"><a><i class="fa fa-book"></i> Thêm </a>
                                </li>
                                <li ng-class="{active : sach == 'tatca'}" ng-click="chonnhanvien('quanlyravao')" class="cursor" ng-if="role == 'nhanvien'"><a><i class="fa fa-book"></i> Quản lý ra vào </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- top navigation -->
            <div class="top_nav">
                <div class="nav_menu">
                    <nav>
                        <div class="nav toggle">
                            <a id="menu_toggle"><i class="fa fa-bars"></i></a>
                        </div>
                        <ul class="nav navbar-nav navbar-right">
                            <li class="">
                                <a href="javascript:;" class="user-profile dropdown-toggle" ng-click="logout()">
                                    Thoát
                                </a>
                                <!--  -->
                                <!-- <ul class="dropdown-menu dropdown-usermenu pull-right">
                                    <li></li>
                                </ul> -->
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="right_col" role="main">
                <!-- client student -->
                <!-- admin patient -->
                <!-- guixe -->
                <!-- nhanvien -->
                <div ui-view></div>
                <i onclick="topFunction()" id="myBtn" class="fa fa-long-arrow-up" title="Go to top"></i>
                <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true" id="delete_health">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="close_modal_delete_health"><span aria-hidden="true">×</span>
                                </button>
                                <h4 class="modal-title" id="myModalLabel2">Bạn có chắc muốn xóa</h4>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                                <button type="button" class="btn btn-primary" ng-click="deleteHealth(confirmDeleteId)">Xóa</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true" id="delete_patient">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="close_modal_delete_patient"><span aria-hidden="true">×</span>
                                </button>
                                <h4 class="modal-title" id="myModalLabel2">Bạn có chắc muốn bệnh nhân {{confirmDeleteName}}</h4>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                                <button type="button" class="btn btn-primary" ng-click="deletePatient(confirmDeleteId)">Xóa</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true" id="delete_student">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="close_modal_delete_student"><span aria-hidden="true">×</span>
                                </button>
                                <h4 class="modal-title" id="myModalLabel2">Bạn có chắc muốn sinh vien {{confirmDeleteName}}</h4>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                                <button type="button" class="btn btn-primary" ng-click="deleteStudent(confirmDeleteId)">Xóa</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true" id="delete_book">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="close_modal_delete_book"><span aria-hidden="true">×</span>
                                </button>
                                <h4 class="modal-title" id="myModalLabel2">Bạn có chắc muốn xóa sách {{confirmDeleteName}}</h4>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                                <button type="button" class="btn btn-primary" ng-click="deleteBook(confirmDeleteId)">Xóa</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true" id="delete_book_student">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="close_modal_delete_book_student"><span aria-hidden="true">×</span>
                                </button>
                                <h4 class="modal-title" id="myModalLabel2">Bạn có chắc muốn xóa</h4>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                                <button type="button" class="btn btn-primary" ng-click="deleteBookStudent(confirmDeleteId)">Xóa</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true" id="book_student_of_student">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" id="close_modal_edit"><span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="alert alert-danger" ng-if="danger_edit">
                                <strong>{{errorMessage}}</strong>
                            </div>
                            <div class="alert alert-success" ng-if="successdelete_edit">
                                <strong>{{successMessage}}</strong>
                            </div>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Tên</th>
                                        <th>MSSV</th>
                                        <th>Tên sách</th>
                                        <th>Ngày mượn</th>
                                        <th>Ngày hết hạn</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="data in allBookStudentOfStudent | orderBy:'-borrowedDate'" id="tr_contact_{{contact.id}}">
                                        <!-- <th scope="row">{{typeContract.id}}</th> -->
                                        <td>{{$index+1}}</td>
                                        <td id="contactName_{{contact.id}}">{{data.student.fullName}}</td>
                                        <td id="email_{{contact.id}}">{{data.student.studentCode}}</td>
                                        <td>{{data.book.bookName}}</td>
                                        <td>{{data.borrowedDate | date:'dd:MM:yyyy hh:mm:ss'}}</td>
                                        <td>{{data.expiryDate | date:'dd:MM:yyyy'}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                            <button type="button" class="btn btn-primary" ng-click="saveOne()">Lưu thay đổi</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true" id="ba">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" id="close_modal_edit"><span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="alert alert-danger" ng-if="danger_edit">
                                <strong>{{errorMessage}}</strong>
                            </div>
                            <div class="alert alert-success" ng-if="successdelete_edit">
                                <strong>{{successMessage}}</strong>
                            </div>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Tên</th>
                                        <th>Mã số</th>
                                        <th>Lý do khám</th>
                                        <th>Chuẩn đoán</th>
                                        <th>Phưong pháp điều trị</th>
                                        <th>Ngày khám</th>
                                        <th>Ngày khám lại</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="data in allHealthRecordsOfPatient | orderBy:'-id'" id="tr_contact_{{contact.id}}">
                                        <!-- <th scope="row">{{typeContract.id}}</th> -->
                                        <td>{{$index+1}}</td>
                                        <td>{{data.patient.name}}</td>
                                        <td>{{data.patient.patientCode}}</td>
                                        <td ng-bind-html="data.lyDoKham"></td>
                                        <td ng-bind-html="data.content"></td>
                                        <td ng-bind-html="data.ppDieuTri"></td>
                                        <td>{{data.date}}</td>
                                        <td>{{data.ngayKhamLai}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                            <button type="button" class="btn btn-primary" ng-click="saveOne()">Lưu thay đổi</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /page content -->
            <!-- footer content -->
            <footer>
                <div class="pull-right">
                </div>
                <div class="clearfix"></div>
            </footer>
            <!-- /footer content -->
        </div>
    </div>
    <!-- services -->
    <!-- jQuery -->
    <script src="bower_components/gentelella/vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="bower_components/gentelella/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="bower_components/gentelella/vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="bower_components/gentelella/vendors/nprogress/nprogress.js"></script>
    <!-- Custom Theme Scripts -->
    <script src="bower_components/gentelella/build/js/custom.min.js"></script>
    <!-- ui bootstrap -->
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
    <!-- angular md5 -->
    <script src="bower_components/angular-md5/angular-md5.min.js"></script>
    <!-- angular-sanitize -->
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    <!-- sockjs stom js -->
    <script src="bower_components/sockjs-client/dist/sockjs.min.js"></script>
    <script src="main/stomp.min.js"></script>
</body>

</html>